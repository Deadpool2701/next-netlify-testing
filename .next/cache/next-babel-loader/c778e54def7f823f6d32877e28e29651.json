{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Abhirup/Desktop/work/Cloud practice/github downloads/solveerror/CS50-Movie-App/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Abhirup/Desktop/work/Cloud practice/github downloads/solveerror/CS50-Movie-App/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect, useState } from \"react\";\nimport { Card, Description, Title, Overlay } from \"../styled\";\nimport FavoriteIcon from \"icons/FavoriteIcon\";\nimport { StyledImage } from \"../styled\";\nimport movieDbActions from \"services/movieDbServices\";\n\nvar MovieItem = function MovieItem(_ref) {\n  var movie = _ref.movie,\n      elementId = _ref.elementId,\n      handleFavorite = _ref.handleFavorite;\n\n  var _useState = useState(),\n      imageUrl = _useState[0],\n      setImageUrl = _useState[1];\n\n  useEffect(function () {\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _response$data, _response$data$result, response;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return movieDbActions.serachMovie(movie.title);\n\n            case 3:\n              response = _context.sent;\n              setImageUrl((response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$result = _response$data.results[0]) === null || _response$data$result === void 0 ? void 0 : _response$data$result.poster_path) || \"\");\n              _context.next = 11;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              setImageUrl(null);\n              console.log(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }))();\n  }, [movie]);\n  return /*#__PURE__*/_jsxs(Card, {\n    id: elementId,\n    children: [imageUrl ? /*#__PURE__*/_jsx(StyledImage, {\n      width: 300,\n      height: 300,\n      src: \"https://image.tmdb.org/t/p/w500/\".concat(imageUrl)\n    }) : /*#__PURE__*/_jsx(StyledImage, {\n      width: 300,\n      height: 300,\n      src: \"/no-image.jpeg\"\n    }), /*#__PURE__*/_jsx(Overlay, {\n      children: /*#__PURE__*/_jsx(\"div\", {\n        onClick: function onClick() {\n          return handleFavorite({\n            movie_id: movie.id,\n            url_path: imageUrl\n          });\n        },\n        style: {\n          padding: \"15px\"\n        },\n        children: /*#__PURE__*/_jsx(FavoriteIcon, {})\n      })\n    }), /*#__PURE__*/_jsxs(Description, {\n      children: [/*#__PURE__*/_jsx(Title, {\n        children: movie.title\n      }), /*#__PURE__*/_jsx(\"span\", {\n        children: movie.year\n      })]\n    })]\n  });\n};\n\nexport default MovieItem;","map":null,"metadata":{},"sourceType":"module"}