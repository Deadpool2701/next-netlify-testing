_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{"/EDR":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("23aj")}])},"23aj":function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return oe}));var r=n("nKUr"),o=n("nTs4"),i=n("cZC5"),a=n("o0o1"),c=n.n(a),l=n("HaE+"),s=n("q1tI"),d=n("vOnD"),u=n("n57c"),p=n("Aiso"),f=n.n(p),h=Object(d.d)(f.a).withConfig({displayName:"styled__StyledImage",componentId:"sc-lycrib-0"})(["border-radius:3px;"]),b=d.d.div.withConfig({displayName:"styled__Wrapper",componentId:"sc-lycrib-1"})(["display:flex;flex-wrap:wrap;gap:50px;justify-content:center;"]),v=d.d.div.withConfig({displayName:"styled__Card",componentId:"sc-lycrib-2"})(["display:flex;flex-direction:column;flex:0 1 300px;:last-child{align-self:flex-end;}"]),m=Object(d.d)(u.a).withConfig({displayName:"styled__Button",componentId:"sc-lycrib-3"})(["width:100px;height:100px;border-radius:50%;"]),g=d.d.div.withConfig({displayName:"styled__Section",componentId:"sc-lycrib-4"})(["display:flex;flex-direction:column;align-items:center;margin-top:20px;gap:100px;"]),y=d.d.div.withConfig({displayName:"styled__Description",componentId:"sc-lycrib-5"})(["display:flex;justify-content:space-between;margin-top:25px;"]),j=d.d.span.withConfig({displayName:"styled__Title",componentId:"sc-lycrib-6"})(["text-transform:uppercase;font-weight:",";max-width:225px;line-height:18px;"],(function(e){return e.theme.typography.fontWeight.normal})),x=d.d.div.withConfig({displayName:"styled__Overlay",componentId:"sc-lycrib-7"})(["width:300px;height:300px;position:absolute;display:flex;justify-content:center;align-items:center;& > div{display:none;}:hover{& > div{display:block;}background-color:rgb(255,255,255,0.4);cursor:pointer;}"]),w=d.d.div.withConfig({displayName:"styled__ResultSection",componentId:"sc-lycrib-8"})(["top:140px;position:sticky;width:100%;margin-top:40px;height:40px;display:flex;justify-content:flex-end;align-items:center;color:",";"],(function(e){return e.theme.colors.brand.black})),O=n("rePB");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){return Object(r.jsx)("svg",k(k({xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 24 24"},e),{},{children:Object(r.jsx)("path",{d:"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z"})}))},I=n("efbE"),E="5ac869627cd9f0df0c39b072f57ee015",N={getConfig:function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/configuration?api_key=".concat(E));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),serachMovie:function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/search/movie?api_key=".concat(E,"&query=").concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getImage:function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/movie/".concat(t,"/images?api_key=").concat(E));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(e){var t=e.movie,n=e.elementId,o=e.handleFavorite,i=Object(s.useState)(),a=i[0],d=i[1];return Object(s.useEffect)((function(){Object(l.a)(c.a.mark((function e(){var n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.serachMovie(t.title);case 3:o=e.sent,d((null===o||void 0===o||null===(n=o.data)||void 0===n||null===(r=n.results[0])||void 0===r?void 0:r.poster_path)||""),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),d(null),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[t]),Object(r.jsxs)(v,{id:n,children:[a?Object(r.jsx)(h,{width:300,height:300,src:"https://image.tmdb.org/t/p/w500/".concat(a)}):Object(r.jsx)(h,{width:300,height:300,src:"/no-image.jpeg"}),Object(r.jsx)(x,{children:Object(r.jsx)("div",{onClick:function(){return o({movie_id:t.id,url_path:a})},style:{padding:"15px"},children:Object(r.jsx)(C,{})})}),Object(r.jsxs)(y,{children:[Object(r.jsx)(j,{children:t.title}),Object(r.jsx)("span",{children:t.year})]})]})},W=n("a3WO");var M=n("BsWD");function F(e){return function(e){if(Array.isArray(e))return Object(W.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(M.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function D(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function H(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return D(n.overflowY,t)||D(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function P(e,t,n,r,o,i,a,c){return i<e&&a>t||i>e&&a<t?0:i<=e&&c<=n||a>=t&&c>=n?i-e-r:a>t&&c<n||i<e&&c>n?a-t+o:0}var B=function(e,t){var n=window,r=t.scrollMode,o=t.block,i=t.inline,a=t.boundary,c=t.skipOverflowHiddenElements,l="function"==typeof a?a:function(e){return e!==a};if(!T(e))throw new TypeError("Invalid target");for(var s=document.scrollingElement||document.documentElement,d=[],u=e;T(u)&&l(u);){if((u=u.parentElement)===s){d.push(u);break}null!=u&&u===document.body&&H(u)&&!H(document.documentElement)||null!=u&&H(u,c)&&d.push(u)}for(var p=n.visualViewport?n.visualViewport.width:innerWidth,f=n.visualViewport?n.visualViewport.height:innerHeight,h=window.scrollX||pageXOffset,b=window.scrollY||pageYOffset,v=e.getBoundingClientRect(),m=v.height,g=v.width,y=v.top,j=v.right,x=v.bottom,w=v.left,O="start"===o||"nearest"===o?y:"end"===o?x:y+m/2,_="center"===i?w+g/2:"end"===i?j:w,k=[],C=0;C<d.length;C++){var I=d[C],E=I.getBoundingClientRect(),N=E.height,S=E.width,W=E.top,M=E.right,F=E.bottom,D=E.left;if("if-needed"===r&&y>=0&&w>=0&&x<=f&&j<=p&&y>=W&&x<=F&&w>=D&&j<=M)return k;var B=getComputedStyle(I),L=parseInt(B.borderLeftWidth,10),R=parseInt(B.borderTopWidth,10),V=parseInt(B.borderRightWidth,10),A=parseInt(B.borderBottomWidth,10),X=0,z=0,Y="offsetWidth"in I?I.offsetWidth-I.clientWidth-L-V:0,q="offsetHeight"in I?I.offsetHeight-I.clientHeight-R-A:0;if(s===I)X="start"===o?O:"end"===o?O-f:"nearest"===o?P(b,b+f,f,R,A,b+O,b+O+m,m):O-f/2,z="start"===i?_:"center"===i?_-p/2:"end"===i?_-p:P(h,h+p,p,L,V,h+_,h+_+g,g),X=Math.max(0,X+b),z=Math.max(0,z+h);else{X="start"===o?O-W-R:"end"===o?O-F+A+q:"nearest"===o?P(W,F,N,R,A+q,O,O+m,m):O-(W+N/2)+q/2,z="start"===i?_-D-L:"center"===i?_-(D+S/2)+Y/2:"end"===i?_-M+V+Y:P(D,M,S,L,V+Y,_,_+g,g);var G=I.scrollLeft,J=I.scrollTop;O+=J-(X=Math.max(0,Math.min(J+X,I.scrollHeight-N+q))),_+=G-(z=Math.max(0,Math.min(G+z,I.scrollWidth-S+Y)))}k.push({el:I,top:X,left:z})}return k};function L(e){return e===Object(e)&&0!==Object.keys(e).length}var R,V=function(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(L(t)&&"function"===typeof t.behavior)return t.behavior(n?[]:B(e,t));if(!n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:L(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,o=e.top,i=e.left;r.scroll&&n?r.scroll({top:o,left:i,behavior:t}):(r.scrollTop=o,r.scrollLeft=i)}))}(B(e,r),r.behavior)}},A="60px",X="nearest",z="smooth",Y="if-needed",q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{delta:"-".concat(A," - 3vh")};if(e){var n=e,r=null,o=t||{},i=o.delta,a=void 0===i?null:i,c=o.block,l=void 0===c?X:c,s=o.behavior,d=void 0===s?z:s,u=o.scrollMode,p=void 0===u?Y:u;if("string"===typeof a){var f="end"===l?e.offsetHeight+e.offsetTop:e.offsetTop,h=a.replace(/ /g,"").replace(/\-/g," - ").replace(/\+/g," + "),b=h.startsWith(" -")?"":" + ";r="calc(".concat(f,"px ").concat(b," ").concat(h,")")}else if("number"===typeof a){var v=e.offsetTop;r="".concat(v+a,"px")}if(r){var m=document.createElement("div"),g=m.style;g.height="1px",g.width="1px",g.top=top+"px",g.position="absolute",g.top=r;var y=e.offsetParent||e.parentNode;y.appendChild(m),n=m,setTimeout((function(){return y.removeChild(m)}),3e3)}V(n,{block:l,behavior:d,scrollMode:p})}};!function(e){e[e.year=0]="year"}(R||(R={}));var G=n("FGyW"),J=function(e){var t=Object(s.useState)(e),n=t[0],r=t[1],o=Object(s.useState)(!1),i=o[0],a=o[1],d=Object(s.useState)(10),u=d[0],p=d[1],f=Object(s.useState)({year:2021}),h=f[0],b=f[1],v=Object(s.useCallback)(function(){var e=Object(l.a)(c.a.mark((function e(t,n){var o,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!0),o=t.target.value,e.t0=n,e.next=e.t0===R.year?5:13;break;case 5:return b({year:parseInt(o)}),e.next=8,I.b.get("/movies?year=".concat(o));case 8:return i=e.sent,l=i.data,r(l.results),a(!1),e.abrupt("break",16);case 13:return b({year:2021}),a(!1),e.abrupt("break",16);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),m=Object(s.useCallback)(Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.b.get("/movies?year=".concat(h.year,"&offset=").concat(u));case 2:t=e.sent,n=t.data,p((function(e){return e+10})),r((function(e){return[].concat(F(e),F(n.results))}));case 6:case"end":return e.stop()}}),e)}))),[u]),g=Object(s.useCallback)(function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.movie_id,r=t.url_path,e.prev=1,e.next=4,I.b.post("/movies",{movie_id:n,url_path:r});case 4:o=e.sent,"Success"===o.data.status&&Object(G.b)("Added to your favorite list"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(s.useEffect)((function(){var e;i||q(null===(e=document)||void 0===e?void 0:e.getElementById("".concat("movies","-").concat((null===n||void 0===n?void 0:n.length)-10)),{scrollMode:"always",block:"start",behavior:"smooth",delta:"-140px"})}),[n]),{movies:n,filters:h,handleChangeFilter:v,loadMore:m,loading:i,handleFavorite:g}},K=d.d.select.withConfig({displayName:"Select",componentId:"sc-5cu2fq-0"})(["background-color:inherit;margin-top:5px;width:100%;border:0;font-size:14px;height:20px;outline-color:",";:focus-visible{outline-color:",";}&:hover{cursor:pointer;}"],(function(e){return e.theme.colors.gray[10]}),(function(e){return e.theme.colors.gray[10]})),U=d.d.div.withConfig({displayName:"Filter__FilterWrapper",componentId:"sc-ojta6y-0"})(["width:100%;height:69px;background-color:",";top:60px;position:sticky;z-index:20;border:1px solid rgb(238,237,239);margin-top:2px;box-shadow:rgb(51 51 51 / 15%) 0px 2px 4px;"],(function(e){return e.theme.colors.gray[10]})),Z=d.d.div.withConfig({displayName:"Filter__Tab",componentId:"sc-ojta6y-1"})(["border-left:1px solid ",";:last-child{border-right:1px solid ",";}height:100%;width:100%;padding:15px 25px;"],(function(e){return e.theme.colors.accent.dark}),(function(e){return e.theme.colors.accent.dark})),Q=d.d.h4.withConfig({displayName:"Filter__StyledH4",componentId:"sc-ojta6y-2"})(["color:",";font-size:12px;letter-spacing:1px;"],(function(e){return e.theme.colors.accent.dark})),$=d.d.div.withConfig({displayName:"Filter__Inner",componentId:"sc-ojta6y-3"})(["display:flex;"]),ee=function(e){var t=e.title,n=e.options,o=e.handleChangeFilter,i=e.value,a=e.method;return Object(r.jsxs)(Z,{children:[Object(r.jsx)(Q,{children:t}),Object(r.jsx)(K,{value:i,onChange:function(e){return o(e,a)},children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(r.jsx)("option",{value:e,children:e},t)}))})]})},te=function(e){var t=e.filterOptions,n=e.handleChangeFilter,i=e.filters;return Object(r.jsx)(U,{children:Object(r.jsx)(o.a,{children:Object(r.jsx)($,{children:Object(r.jsx)(ee,{handleChangeFilter:n,title:"Year",options:t.years,value:i.year,method:R.year})})})})},ne=function(e){var t=e.moviesList,n=e.filterOptions,i=e.totalMovies,a=J(t),c=a.movies,l=a.filters,s=a.handleChangeFilter,d=a.loading,u=a.loadMore,p=a.handleFavorite;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(te,{handleChangeFilter:s,filterOptions:{years:n},filters:l}),Object(r.jsxs)(o.a,{children:[Object(r.jsx)(w,{children:Object(r.jsxs)("span",{children:[c.length," / ",i]})}),Object(r.jsxs)(g,{children:[Object(r.jsx)(b,{children:null===c||void 0===c?void 0:c.map((function(e,t){return Object(r.jsx)(S,{elementId:"".concat("movies","-").concat(t),movie:e,handleFavorite:p},t)}))}),Object(r.jsx)(m,{onClick:u,disabled:!1,isLoading:d,children:"Load more"})]})]})]})},re=n("rp2g"),oe=!0;t.default=function(e){var t;return Object(r.jsxs)(o.b,{customMetaType:"movies",children:[Object(r.jsx)(i.a,{}),Object(r.jsx)(ne,{moviesList:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results,filterOptions:e.filterOptions,totalMovies:e.data.total}),Object(r.jsx)(re.a,{})]})}}},[["/EDR",0,2,1,3,5,4]]]);